/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var c=[];return b.forEach(a,function(a,b){c.push(b)}),c}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c){var d=["",""],e=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return e;switch(c){case!1:d=["(",")"];break;case!0:d=["?(",")?"];break;default:d=["("+c+"|",")?"]}return e+d[0]+b+d[1]}function h(c,e){var f,g,h,i,j;return f=c[2]||c[3],j=b.params[f],h=a.substring(m,c.index),g=e?c[4]:c[4]||("*"==c[1]?".*":null),i=O.type(g||"string")||d(O.type("string"),{pattern:new RegExp(g)}),{id:f,regexp:g,segment:h,type:i,cfg:j}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(a){return this.pattern.test(a)}function i(){return{strict:t,caseInsensitive:p}}function j(a){return H(a)||K(a)&&H(a[a.length-1])}function k(){for(;x.length;){var a=x.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(v[a.name],o.invoke(a.def))}}function l(a){M(this,a||{})}O=this;var o,p=!1,t=!0,u=!1,v={},w=!0,x=[],y={string:{encode:a,decode:e,is:f,pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!j(a.value))return a.value;if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(p=a),p},this.strictMode=function(a){return G(a)&&(t=a),t},this.defaultSquashPolicy=function(a){if(!G(a))return u;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return u=a,a},this.compile=function(a,b){return new q(a,M(i(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return v[a];if(v.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return v[a]=new r(M({name:a},b)),c&&(x.push({name:a,def:c}),w||k()),this},L(y,function(a,b){v[b]=new r(M({name:b},a))}),v=d(v,{}),this.$get=["$injector",function(a){return o=a,w=!1,k(),L(y,function(a,b){v[b]||(v[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=j(a.value)?a.value:function(){return a.value},a}function i(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?v.any:v.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function l(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return u;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(d.$$fn)}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.decode(a):q()}function t(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=i(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=l(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:t})},l.prototype={$$new:function(){return d(this,M(new l,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(l.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var b,c,d,e=!0,f=this;return L(this.$$keys(),function(g){d=f[g],c=a[g],b=!c&&d.isOptional,e=e&&(b||!!d.type.is(c))}),e},$$parent:c},this.ParamSet=l}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){d.url(a.format(b||{})),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){var b=a.split("."),c=x.$current.name.split(".");if("**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(){return x.transitionTo(x.current,o,{reload:!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative);if(!G(q)){var r={to:b,toParams:c,options:f},y=s(r,j.self,m,f);if(y)return y;if(b=r.to,c=r.toParams,f=r.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var B=b.path,D=0,E=B[D],F=w.locals,H=[];if(!f.reload)for(;E&&E===n[D]&&E.ownParams.$$equals(c,m);)F=H[D]=E.locals,D++,E=B[D];if(v(b,j,F,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return p.update(),z;for(var I=e.when(F),J=D;J<B.length;J++,E=B[J])F=H[J]=d(F),I=t(E,c,E===b,I,F,f);var K=x.transition=I.then(function(){var d,e,g;if(x.transition!==K)return u;for(d=n.length-1;d>=D;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<B.length;d++)e=B[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return x.transition!==K?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==K?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return K},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys(),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l=null,m="A"===f.prop("tagName"),n="FORM"===f[0].nodeName,o=n?"action":"href",p=!0,q={relative:k,inherit:!0},r=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in r&&(q[a]=r[a])});var s=function(c){if(c&&(j=b.copy(c)),p){l=a.href(i.state,j,q);var d=h[1]||h[0];return d&&d.$$setStateInfo(i.state,j),null===l?(p=!1,!1):void g.$set(o,l)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&s(a)},!0),j=b.copy(e.$eval(i.paramExpr))),s(),n||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,q)});b.preventDefault();var g=m&&!l?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(j):d.removeClass(j)}function g(){return"undefined"!=typeof e.uiSrefActiveEq?h&&a.is(h.name,i):h&&a.includes(h.name,i)}var h,i,j;j=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$setStateInfo=function(b,c){h=a.get(b,B(d)),i=c,f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)}(window,window.angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzY3JpcHRzL3ZlbmRvcnMvYW5ndWxhci11aS1yb3V0ZXIvcmVsZWFzZS9hbmd1bGFyLXVpLXJvdXRlci5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdGF0ZS1iYXNlZCByb3V0aW5nIGZvciBBbmd1bGFySlNcbiAqIEB2ZXJzaW9uIHYwLjIuMTNcbiAqIEBsaW5rIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5jb20vXG4gKiBAbGljZW5zZSBNSVQgTGljZW5zZSwgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqL1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJm1vZHVsZS5leHBvcnRzPT09ZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPVwidWkucm91dGVyXCIpLGZ1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIE0obmV3KE0oZnVuY3Rpb24oKXt9LHtwcm90b3R5cGU6YX0pKSxiKX1mdW5jdGlvbiBlKGEpe3JldHVybiBMKGFyZ3VtZW50cyxmdW5jdGlvbihiKXtiIT09YSYmTChiLGZ1bmN0aW9uKGIsYyl7YS5oYXNPd25Qcm9wZXJ0eShjKXx8KGFbY109Yil9KX0pLGF9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPVtdO2Zvcih2YXIgZCBpbiBhLnBhdGgpe2lmKGEucGF0aFtkXSE9PWIucGF0aFtkXSlicmVhaztjLnB1c2goYS5wYXRoW2RdKX1yZXR1cm4gY31mdW5jdGlvbiBnKGEpe2lmKE9iamVjdC5rZXlzKXJldHVybiBPYmplY3Qua2V5cyhhKTt2YXIgYz1bXTtyZXR1cm4gYi5mb3JFYWNoKGEsZnVuY3Rpb24oYSxiKXtjLnB1c2goYil9KSxjfWZ1bmN0aW9uIGgoYSxiKXtpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIsTnVtYmVyKGFyZ3VtZW50c1syXSl8fDApO3ZhciBjPWEubGVuZ3RoPj4+MCxkPU51bWJlcihhcmd1bWVudHNbMl0pfHwwO2ZvcihkPTA+ZD9NYXRoLmNlaWwoZCk6TWF0aC5mbG9vcihkKSwwPmQmJihkKz1jKTtjPmQ7ZCsrKWlmKGQgaW4gYSYmYVtkXT09PWIpcmV0dXJuIGQ7cmV0dXJuLTF9ZnVuY3Rpb24gaShhLGIsYyxkKXt2YXIgZSxpPWYoYyxkKSxqPXt9LGs9W107Zm9yKHZhciBsIGluIGkpaWYoaVtsXS5wYXJhbXMmJihlPWcoaVtsXS5wYXJhbXMpLGUubGVuZ3RoKSlmb3IodmFyIG0gaW4gZSloKGssZVttXSk+PTB8fChrLnB1c2goZVttXSksaltlW21dXT1hW2VbbV1dKTtyZXR1cm4gTSh7fSxqLGIpfWZ1bmN0aW9uIGooYSxiLGMpe2lmKCFjKXtjPVtdO2Zvcih2YXIgZCBpbiBhKWMucHVzaChkKX1mb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtpZihhW2ZdIT1iW2ZdKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGsoYSxiKXt2YXIgYz17fTtyZXR1cm4gTChhLGZ1bmN0aW9uKGEpe2NbYV09YlthXX0pLGN9ZnVuY3Rpb24gbChhKXt2YXIgYj17fSxjPUFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBkIGluIGEpLTE9PWgoYyxkKSYmKGJbZF09YVtkXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhLGIpe3ZhciBjPUsoYSksZD1jP1tdOnt9O3JldHVybiBMKGEsZnVuY3Rpb24oYSxlKXtiKGEsZSkmJihkW2M/ZC5sZW5ndGg6ZV09YSl9KSxkfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1LKGEpP1tdOnt9O3JldHVybiBMKGEsZnVuY3Rpb24oYSxkKXtjW2RdPWIoYSxkKX0pLGN9ZnVuY3Rpb24gbyhhLGIpe3ZhciBkPTEsZj0yLGk9e30saj1bXSxrPWksbT1NKGEud2hlbihpKSx7JCRwcm9taXNlczppLCQkdmFsdWVzOml9KTt0aGlzLnN0dWR5PWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG4oYSxjKXtpZihzW2NdIT09Zil7aWYoci5wdXNoKGMpLHNbY109PT1kKXRocm93IHIuc3BsaWNlKDAsaChyLGMpKSxuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeTogXCIrci5qb2luKFwiIC0+IFwiKSk7aWYoc1tjXT1kLEkoYSkpcS5wdXNoKGMsW2Z1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0KGEpfV0saik7ZWxzZXt2YXIgZT1iLmFubm90YXRlKGEpO0woZSxmdW5jdGlvbihhKXthIT09YyYmaS5oYXNPd25Qcm9wZXJ0eShhKSYmbihpW2FdLGEpfSkscS5wdXNoKGMsYSxlKX1yLnBvcCgpLHNbY109Zn19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gSihhKSYmYS50aGVuJiZhLiQkcHJvbWlzZXN9aWYoIUooaSkpdGhyb3cgbmV3IEVycm9yKFwiJ2ludm9jYWJsZXMnIG11c3QgYmUgYW4gb2JqZWN0XCIpO3ZhciBwPWcoaXx8e30pLHE9W10scj1bXSxzPXt9O3JldHVybiBMKGksbiksaT1yPXM9bnVsbCxmdW5jdGlvbihkLGYsZyl7ZnVuY3Rpb24gaCgpey0tdXx8KHZ8fGUodCxmLiQkdmFsdWVzKSxyLiQkdmFsdWVzPXQsci4kJHByb21pc2VzPXIuJCRwcm9taXNlc3x8ITAsZGVsZXRlIHIuJCRpbmhlcml0ZWRWYWx1ZXMsbi5yZXNvbHZlKHQpKX1mdW5jdGlvbiBpKGEpe3IuJCRmYWlsdXJlPWEsbi5yZWplY3QoYSl9ZnVuY3Rpb24gaihjLGUsZil7ZnVuY3Rpb24gaihhKXtsLnJlamVjdChhKSxpKGEpfWZ1bmN0aW9uIGsoKXtpZighRyhyLiQkZmFpbHVyZSkpdHJ5e2wucmVzb2x2ZShiLmludm9rZShlLGcsdCkpLGwucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGEpe3RbY109YSxoKCl9LGopfWNhdGNoKGEpe2ooYSl9fXZhciBsPWEuZGVmZXIoKSxtPTA7TChmLGZ1bmN0aW9uKGEpe3MuaGFzT3duUHJvcGVydHkoYSkmJiFkLmhhc093blByb3BlcnR5KGEpJiYobSsrLHNbYV0udGhlbihmdW5jdGlvbihiKXt0W2FdPWIsLS1tfHxrKCl9LGopKX0pLG18fGsoKSxzW2NdPWwucHJvbWlzZX1pZihvKGQpJiZnPT09YyYmKGc9ZixmPWQsZD1udWxsKSxkKXtpZighSihkKSl0aHJvdyBuZXcgRXJyb3IoXCInbG9jYWxzJyBtdXN0IGJlIGFuIG9iamVjdFwiKX1lbHNlIGQ9aztpZihmKXtpZighbyhmKSl0aHJvdyBuZXcgRXJyb3IoXCIncGFyZW50JyBtdXN0IGJlIGEgcHJvbWlzZSByZXR1cm5lZCBieSAkcmVzb2x2ZS5yZXNvbHZlKClcIil9ZWxzZSBmPW07dmFyIG49YS5kZWZlcigpLHI9bi5wcm9taXNlLHM9ci4kJHByb21pc2VzPXt9LHQ9TSh7fSxkKSx1PTErcS5sZW5ndGgvMyx2PSExO2lmKEcoZi4kJGZhaWx1cmUpKXJldHVybiBpKGYuJCRmYWlsdXJlKSxyO2YuJCRpbmhlcml0ZWRWYWx1ZXMmJmUodCxsKGYuJCRpbmhlcml0ZWRWYWx1ZXMscCkpLE0ocyxmLiQkcHJvbWlzZXMpLGYuJCR2YWx1ZXM/KHY9ZSh0LGwoZi4kJHZhbHVlcyxwKSksci4kJGluaGVyaXRlZFZhbHVlcz1sKGYuJCR2YWx1ZXMscCksaCgpKTooZi4kJGluaGVyaXRlZFZhbHVlcyYmKHIuJCRpbmhlcml0ZWRWYWx1ZXM9bChmLiQkaW5oZXJpdGVkVmFsdWVzLHApKSxmLnRoZW4oaCxpKSk7Zm9yKHZhciB3PTAseD1xLmxlbmd0aDt4Pnc7dys9MylkLmhhc093blByb3BlcnR5KHFbd10pP2goKTpqKHFbd10scVt3KzFdLHFbdysyXSk7cmV0dXJuIHJ9fSx0aGlzLnJlc29sdmU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuc3R1ZHkoYSkoYixjLGQpfX1mdW5jdGlvbiBwKGEsYixjKXt0aGlzLmZyb21Db25maWc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBHKGEudGVtcGxhdGUpP3RoaXMuZnJvbVN0cmluZyhhLnRlbXBsYXRlLGIpOkcoYS50ZW1wbGF0ZVVybCk/dGhpcy5mcm9tVXJsKGEudGVtcGxhdGVVcmwsYik6RyhhLnRlbXBsYXRlUHJvdmlkZXIpP3RoaXMuZnJvbVByb3ZpZGVyKGEudGVtcGxhdGVQcm92aWRlcixiLGMpOm51bGx9LHRoaXMuZnJvbVN0cmluZz1mdW5jdGlvbihhLGIpe3JldHVybiBIKGEpP2EoYik6YX0sdGhpcy5mcm9tVXJsPWZ1bmN0aW9uKGMsZCl7cmV0dXJuIEgoYykmJihjPWMoZCkpLG51bGw9PWM/bnVsbDphLmdldChjLHtjYWNoZTpiLGhlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwifX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pfSx0aGlzLmZyb21Qcm92aWRlcj1mdW5jdGlvbihhLGIsZCl7cmV0dXJuIGMuaW52b2tlKGEsbnVsbCxkfHx7cGFyYW1zOmJ9KX19ZnVuY3Rpb24gcShhLGIsZSl7ZnVuY3Rpb24gZihiLGMsZCxlKXtpZihxLnB1c2goYiksb1tiXSlyZXR1cm4gb1tiXTtpZighL15cXHcrKC0rXFx3KykqKD86XFxbXFxdKT8kLy50ZXN0KGIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIG5hbWUgJ1wiK2IrXCInIGluIHBhdHRlcm4gJ1wiK2ErXCInXCIpO2lmKHBbYl0pdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIHBhcmFtZXRlciBuYW1lICdcIitiK1wiJyBpbiBwYXR0ZXJuICdcIithK1wiJ1wiKTtyZXR1cm4gcFtiXT1uZXcgTy5QYXJhbShiLGMsZCxlKSxwW2JdfWZ1bmN0aW9uIGcoYSxiLGMpe3ZhciBkPVtcIlwiLFwiXCJdLGU9YS5yZXBsYWNlKC9bXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dL2csXCJcXFxcJCZcIik7aWYoIWIpcmV0dXJuIGU7c3dpdGNoKGMpe2Nhc2UhMTpkPVtcIihcIixcIilcIl07YnJlYWs7Y2FzZSEwOmQ9W1wiPyhcIixcIik/XCJdO2JyZWFrO2RlZmF1bHQ6ZD1bXCIoXCIrYytcInxcIixcIik/XCJdfXJldHVybiBlK2RbMF0rYitkWzFdfWZ1bmN0aW9uIGgoYyxlKXt2YXIgZixnLGgsaSxqO3JldHVybiBmPWNbMl18fGNbM10saj1iLnBhcmFtc1tmXSxoPWEuc3Vic3RyaW5nKG0sYy5pbmRleCksZz1lP2NbNF06Y1s0XXx8KFwiKlwiPT1jWzFdP1wiLipcIjpudWxsKSxpPU8udHlwZShnfHxcInN0cmluZ1wiKXx8ZChPLnR5cGUoXCJzdHJpbmdcIikse3BhdHRlcm46bmV3IFJlZ0V4cChnKX0pLHtpZDpmLHJlZ2V4cDpnLHNlZ21lbnQ6aCx0eXBlOmksY2ZnOmp9fWI9TSh7cGFyYW1zOnt9fSxKKGIpP2I6e30pO3ZhciBpLGo9LyhbOipdKShbXFx3XFxbXFxdXSspfFxceyhbXFx3XFxbXFxdXSspKD86XFw6KCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxrPS8oWzpdPykoW1xcd1xcW1xcXS1dKyl8XFx7KFtcXHdcXFtcXF0tXSspKD86XFw6KCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxsPVwiXlwiLG09MCxuPXRoaXMuc2VnbWVudHM9W10sbz1lP2UucGFyYW1zOnt9LHA9dGhpcy5wYXJhbXM9ZT9lLnBhcmFtcy4kJG5ldygpOm5ldyBPLlBhcmFtU2V0LHE9W107dGhpcy5zb3VyY2U9YTtmb3IodmFyIHIscyx0OyhpPWouZXhlYyhhKSkmJihyPWgoaSwhMSksIShyLnNlZ21lbnQuaW5kZXhPZihcIj9cIik+PTApKTspcz1mKHIuaWQsci50eXBlLHIuY2ZnLFwicGF0aFwiKSxsKz1nKHIuc2VnbWVudCxzLnR5cGUucGF0dGVybi5zb3VyY2Uscy5zcXVhc2gpLG4ucHVzaChyLnNlZ21lbnQpLG09ai5sYXN0SW5kZXg7dD1hLnN1YnN0cmluZyhtKTt2YXIgdT10LmluZGV4T2YoXCI/XCIpO2lmKHU+PTApe3ZhciB2PXRoaXMuc291cmNlU2VhcmNoPXQuc3Vic3RyaW5nKHUpO2lmKHQ9dC5zdWJzdHJpbmcoMCx1KSx0aGlzLnNvdXJjZVBhdGg9YS5zdWJzdHJpbmcoMCxtK3UpLHYubGVuZ3RoPjApZm9yKG09MDtpPWsuZXhlYyh2KTspcj1oKGksITApLHM9ZihyLmlkLHIudHlwZSxyLmNmZyxcInNlYXJjaFwiKSxtPWoubGFzdEluZGV4fWVsc2UgdGhpcy5zb3VyY2VQYXRoPWEsdGhpcy5zb3VyY2VTZWFyY2g9XCJcIjtsKz1nKHQpKyhiLnN0cmljdD09PSExP1wiLz9cIjpcIlwiKStcIiRcIixuLnB1c2godCksdGhpcy5yZWdleHA9bmV3IFJlZ0V4cChsLGIuY2FzZUluc2Vuc2l0aXZlP1wiaVwiOmMpLHRoaXMucHJlZml4PW5bMF0sdGhpcy4kJHBhcmFtTmFtZXM9cX1mdW5jdGlvbiByKGEpe00odGhpcyxhKX1mdW5jdGlvbiBzKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gbnVsbCE9YT9hLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwvL2csXCIlMkZcIik6YX1mdW5jdGlvbiBlKGEpe3JldHVybiBudWxsIT1hP2EudG9TdHJpbmcoKS5yZXBsYWNlKC8lMkYvZyxcIi9cIik6YX1mdW5jdGlvbiBmKGEpe3JldHVybiB0aGlzLnBhdHRlcm4udGVzdChhKX1mdW5jdGlvbiBpKCl7cmV0dXJue3N0cmljdDp0LGNhc2VJbnNlbnNpdGl2ZTpwfX1mdW5jdGlvbiBqKGEpe3JldHVybiBIKGEpfHxLKGEpJiZIKGFbYS5sZW5ndGgtMV0pfWZ1bmN0aW9uIGsoKXtmb3IoO3gubGVuZ3RoOyl7dmFyIGE9eC5zaGlmdCgpO2lmKGEucGF0dGVybil0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IG92ZXJyaWRlIGEgdHlwZSdzIC5wYXR0ZXJuIGF0IHJ1bnRpbWUuXCIpO2IuZXh0ZW5kKHZbYS5uYW1lXSxvLmludm9rZShhLmRlZikpfX1mdW5jdGlvbiBsKGEpe00odGhpcyxhfHx7fSl9Tz10aGlzO3ZhciBvLHA9ITEsdD0hMCx1PSExLHY9e30sdz0hMCx4PVtdLHk9e3N0cmluZzp7ZW5jb2RlOmEsZGVjb2RlOmUsaXM6ZixwYXR0ZXJuOi9bXi9dKi99LFwiaW50XCI6e2VuY29kZTphLGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VJbnQoYSwxMCl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBHKGEpJiZ0aGlzLmRlY29kZShhLnRvU3RyaW5nKCkpPT09YX0scGF0dGVybjovXFxkKy99LGJvb2w6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gYT8xOjB9LGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gMCE9PXBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYT09PSEwfHxhPT09ITF9LHBhdHRlcm46LzB8MS99LGRhdGU6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pcyhhKT9bYS5nZXRGdWxsWWVhcigpLChcIjBcIisoYS5nZXRNb250aCgpKzEpKS5zbGljZSgtMiksKFwiMFwiK2EuZ2V0RGF0ZSgpKS5zbGljZSgtMildLmpvaW4oXCItXCIpOmN9LGRlY29kZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzKGEpKXJldHVybiBhO3ZhciBiPXRoaXMuY2FwdHVyZS5leGVjKGEpO3JldHVybiBiP25ldyBEYXRlKGJbMV0sYlsyXS0xLGJbM10pOmN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGEudmFsdWVPZigpKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXMoYSkmJnRoaXMuaXMoYikmJmEudG9JU09TdHJpbmcoKT09PWIudG9JU09TdHJpbmcoKX0scGF0dGVybjovWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sY2FwdHVyZTovKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvfSxqc29uOntlbmNvZGU6Yi50b0pzb24sZGVjb2RlOmIuZnJvbUpzb24saXM6Yi5pc09iamVjdCxlcXVhbHM6Yi5lcXVhbHMscGF0dGVybjovW14vXSovfSxhbnk6e2VuY29kZTpiLmlkZW50aXR5LGRlY29kZTpiLmlkZW50aXR5LGlzOmIuaWRlbnRpdHksZXF1YWxzOmIuZXF1YWxzLHBhdHRlcm46Ly4qL319O3MuJCRnZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oYSl7aWYoIWooYS52YWx1ZSkpcmV0dXJuIGEudmFsdWU7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWVcIik7cmV0dXJuIG8uaW52b2tlKGEudmFsdWUpfSx0aGlzLmNhc2VJbnNlbnNpdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gRyhhKSYmKHA9YSkscH0sdGhpcy5zdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBHKGEpJiYodD1hKSx0fSx0aGlzLmRlZmF1bHRTcXVhc2hQb2xpY3k9ZnVuY3Rpb24oYSl7aWYoIUcoYSkpcmV0dXJuIHU7aWYoYSE9PSEwJiZhIT09ITEmJiFJKGEpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3F1YXNoIHBvbGljeTogXCIrYStcIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nXCIpO3JldHVybiB1PWEsYX0sdGhpcy5jb21waWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBxKGEsTShpKCksYikpfSx0aGlzLmlzTWF0Y2hlcj1mdW5jdGlvbihhKXtpZighSihhKSlyZXR1cm4hMTt2YXIgYj0hMDtyZXR1cm4gTChxLnByb3RvdHlwZSxmdW5jdGlvbihjLGQpe0goYykmJihiPWImJkcoYVtkXSkmJkgoYVtkXSkpfSksYn0sdGhpcy50eXBlPWZ1bmN0aW9uKGEsYixjKXtpZighRyhiKSlyZXR1cm4gdlthXTtpZih2Lmhhc093blByb3BlcnR5KGEpKXRocm93IG5ldyBFcnJvcihcIkEgdHlwZSBuYW1lZCAnXCIrYStcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtyZXR1cm4gdlthXT1uZXcgcihNKHtuYW1lOmF9LGIpKSxjJiYoeC5wdXNoKHtuYW1lOmEsZGVmOmN9KSx3fHxrKCkpLHRoaXN9LEwoeSxmdW5jdGlvbihhLGIpe3ZbYl09bmV3IHIoTSh7bmFtZTpifSxhKSl9KSx2PWQodix7fSksdGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBvPWEsdz0hMSxrKCksTCh5LGZ1bmN0aW9uKGEsYil7dltiXXx8KHZbYl09bmV3IHIoYSkpfSksdGhpc31dLHRoaXMuUGFyYW09ZnVuY3Rpb24oYSxiLGQsZSl7ZnVuY3Rpb24gZihhKXt2YXIgYj1KKGEpP2coYSk6W10sYz0tMT09PWgoYixcInZhbHVlXCIpJiYtMT09PWgoYixcInR5cGVcIikmJi0xPT09aChiLFwic3F1YXNoXCIpJiYtMT09PWgoYixcImFycmF5XCIpO3JldHVybiBjJiYoYT17dmFsdWU6YX0pLGEuJCRmbj1qKGEudmFsdWUpP2EudmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS52YWx1ZX0sYX1mdW5jdGlvbiBpKGIsYyxkKXtpZihiLnR5cGUmJmMpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW0gJ1wiK2ErXCInIGhhcyB0d28gdHlwZSBjb25maWd1cmF0aW9ucy5cIik7cmV0dXJuIGM/YzpiLnR5cGU/Yi50eXBlIGluc3RhbmNlb2Ygcj9iLnR5cGU6bmV3IHIoYi50eXBlKTpcImNvbmZpZ1wiPT09ZD92LmFueTp2LnN0cmluZ31mdW5jdGlvbiBrKCl7dmFyIGI9e2FycmF5Olwic2VhcmNoXCI9PT1lP1wiYXV0b1wiOiExfSxjPWEubWF0Y2goL1xcW1xcXSQvKT97YXJyYXk6ITB9Ont9O3JldHVybiBNKGIsYyxkKS5hcnJheX1mdW5jdGlvbiBsKGEsYil7dmFyIGM9YS5zcXVhc2g7aWYoIWJ8fGM9PT0hMSlyZXR1cm4hMTtpZighRyhjKXx8bnVsbD09YylyZXR1cm4gdTtpZihjPT09ITB8fEkoYykpcmV0dXJuIGM7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAnXCIrYytcIicuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgb3IgYXJiaXRyYXJ5IHN0cmluZ1wiKX1mdW5jdGlvbiBwKGEsYixkLGUpe3ZhciBmLGcsaT1be2Zyb206XCJcIix0bzpkfHxiP2M6XCJcIn0se2Zyb206bnVsbCx0bzpkfHxiP2M6XCJcIn1dO3JldHVybiBmPUsoYS5yZXBsYWNlKT9hLnJlcGxhY2U6W10sSShlKSYmZi5wdXNoKHtmcm9tOmUsdG86Y30pLGc9bihmLGZ1bmN0aW9uKGEpe3JldHVybiBhLmZyb219KSxtKGksZnVuY3Rpb24oYSl7cmV0dXJuLTE9PT1oKGcsYS5mcm9tKX0pLmNvbmNhdChmKX1mdW5jdGlvbiBxKCl7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWVcIik7cmV0dXJuIG8uaW52b2tlKGQuJCRmbil9ZnVuY3Rpb24gcyhhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5mcm9tPT09YX19ZnVuY3Rpb24gYyhhKXt2YXIgYz1uKG0ody5yZXBsYWNlLGIoYSkpLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvfSk7cmV0dXJuIGMubGVuZ3RoP2NbMF06YX1yZXR1cm4gYT1jKGEpLEcoYSk/dy50eXBlLmRlY29kZShhKTpxKCl9ZnVuY3Rpb24gdCgpe3JldHVyblwie1BhcmFtOlwiK2ErXCIgXCIrYitcIiBzcXVhc2g6ICdcIit6K1wiJyBvcHRpb25hbDogXCIreStcIn1cIn12YXIgdz10aGlzO2Q9ZihkKSxiPWkoZCxiLGUpO3ZhciB4PWsoKTtiPXg/Yi4kYXNBcnJheSh4LFwic2VhcmNoXCI9PT1lKTpiLFwic3RyaW5nXCIhPT1iLm5hbWV8fHh8fFwicGF0aFwiIT09ZXx8ZC52YWx1ZSE9PWN8fChkLnZhbHVlPVwiXCIpO3ZhciB5PWQudmFsdWUhPT1jLHo9bChkLHkpLEE9cChkLHgseSx6KTtNKHRoaXMse2lkOmEsdHlwZTpiLGxvY2F0aW9uOmUsYXJyYXk6eCxzcXVhc2g6eixyZXBsYWNlOkEsaXNPcHRpb25hbDp5LHZhbHVlOnMsZHluYW1pYzpjLGNvbmZpZzpkLHRvU3RyaW5nOnR9KX0sbC5wcm90b3R5cGU9eyQkbmV3OmZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcyxNKG5ldyBsLHskJHBhcmVudDp0aGlzfSkpfSwkJGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj1bXSxjPXRoaXMsZD1nKGwucHJvdG90eXBlKTtjOyliLnB1c2goYyksYz1jLiQkcGFyZW50O3JldHVybiBiLnJldmVyc2UoKSxMKGIsZnVuY3Rpb24oYil7TChnKGIpLGZ1bmN0aW9uKGIpey0xPT09aChhLGIpJiYtMT09PWgoZCxiKSYmYS5wdXNoKGIpfSl9KSxhfSwkJHZhbHVlczpmdW5jdGlvbihhKXt2YXIgYj17fSxjPXRoaXM7cmV0dXJuIEwoYy4kJGtleXMoKSxmdW5jdGlvbihkKXtiW2RdPWNbZF0udmFsdWUoYSYmYVtkXSl9KSxifSwkJGVxdWFsczpmdW5jdGlvbihhLGIpe3ZhciBjPSEwLGQ9dGhpcztyZXR1cm4gTChkLiQka2V5cygpLGZ1bmN0aW9uKGUpe3ZhciBmPWEmJmFbZV0sZz1iJiZiW2VdO2RbZV0udHlwZS5lcXVhbHMoZixnKXx8KGM9ITEpfSksY30sJCR2YWxpZGF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9ITAsZj10aGlzO3JldHVybiBMKHRoaXMuJCRrZXlzKCksZnVuY3Rpb24oZyl7ZD1mW2ddLGM9YVtnXSxiPSFjJiZkLmlzT3B0aW9uYWwsZT1lJiYoYnx8ISFkLnR5cGUuaXMoYykpfSksZX0sJCRwYXJlbnQ6Y30sdGhpcy5QYXJhbVNldD1sfWZ1bmN0aW9uIHQoYSxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPS9eXFxeKCg/OlxcXFxbXmEtekEtWjAtOV18W15cXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0rKSopLy5leGVjKGEuc291cmNlKTtyZXR1cm4gbnVsbCE9Yj9iWzFdLnJlcGxhY2UoL1xcXFwoLikvZyxcIiQxXCIpOlwiXCJ9ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhLnJlcGxhY2UoL1xcJChcXCR8XFxkezEsMn0pLyxmdW5jdGlvbihhLGMpe3JldHVybiBiW1wiJFwiPT09Yz8wOk51bWJlcihjKV19KX1mdW5jdGlvbiBnKGEsYixjKXtpZighYylyZXR1cm4hMTt2YXIgZD1hLmludm9rZShiLGIseyRtYXRjaDpjfSk7cmV0dXJuIEcoZCk/ZDohMH1mdW5jdGlvbiBoKGQsZSxmLGcpe2Z1bmN0aW9uIGgoYSxiLGMpe3JldHVyblwiL1wiPT09cD9hOmI/cC5zbGljZSgwLC0xKSthOmM/cC5zbGljZSgxKSthOmF9ZnVuY3Rpb24gbShhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWEoZixkKTtyZXR1cm4gYj8oSShiKSYmZC5yZXBsYWNlKCkudXJsKGIpLCEwKTohMX1pZighYXx8IWEuZGVmYXVsdFByZXZlbnRlZCl7dmFyIGU9byYmZC51cmwoKT09PW87aWYobz1jLGUpcmV0dXJuITA7dmFyIGcsaD1qLmxlbmd0aDtmb3IoZz0wO2g+ZztnKyspaWYoYihqW2ddKSlyZXR1cm47ayYmYihrKX19ZnVuY3Rpb24gbigpe3JldHVybiBpPWl8fGUuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLG0pfXZhciBvLHA9Zy5iYXNlSHJlZigpLHE9ZC51cmwoKTtyZXR1cm4gbHx8bigpLHtzeW5jOmZ1bmN0aW9uKCl7bSgpfSxsaXN0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gbigpfSx1cGRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dm9pZChxPWQudXJsKCkpOnZvaWQoZC51cmwoKSE9PXEmJihkLnVybChxKSxkLnJlcGxhY2UoKSkpfSxwdXNoOmZ1bmN0aW9uKGEsYixlKXtkLnVybChhLmZvcm1hdChifHx7fSkpLG89ZSYmZS4kJGF2b2lkUmVzeW5jP2QudXJsKCk6YyxlJiZlLnJlcGxhY2UmJmQucmVwbGFjZSgpfSxocmVmOmZ1bmN0aW9uKGMsZSxmKXtpZighYy52YWxpZGF0ZXMoZSkpcmV0dXJuIG51bGw7dmFyIGc9YS5odG1sNU1vZGUoKTtiLmlzT2JqZWN0KGcpJiYoZz1nLmVuYWJsZWQpO3ZhciBpPWMuZm9ybWF0KGUpO2lmKGY9Znx8e30sZ3x8bnVsbD09PWl8fChpPVwiI1wiK2EuaGFzaFByZWZpeCgpK2kpLGk9aChpLGcsZi5hYnNvbHV0ZSksIWYuYWJzb2x1dGV8fCFpKXJldHVybiBpO3ZhciBqPSFnJiZpP1wiL1wiOlwiXCIsaz1kLnBvcnQoKTtyZXR1cm4gaz04MD09PWt8fDQ0Mz09PWs/XCJcIjpcIjpcIitrLFtkLnByb3RvY29sKCksXCI6Ly9cIixkLmhvc3QoKSxrLGosaV0uam9pbihcIlwiKX19fXZhciBpLGo9W10saz1udWxsLGw9ITE7dGhpcy5ydWxlPWZ1bmN0aW9uKGEpe2lmKCFIKGEpKXRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGoucHVzaChhKSx0aGlzfSx0aGlzLm90aGVyd2lzZT1mdW5jdGlvbihhKXtpZihJKGEpKXt2YXIgYj1hO2E9ZnVuY3Rpb24oKXtyZXR1cm4gYn19ZWxzZSBpZighSChhKSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBrPWEsdGhpc30sdGhpcy53aGVuPWZ1bmN0aW9uKGEsYil7dmFyIGMsaD1JKGIpO2lmKEkoYSkmJihhPWQuY29tcGlsZShhKSksIWgmJiFIKGIpJiYhSyhiKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICdoYW5kbGVyJyBpbiB3aGVuKClcIik7dmFyIGk9e21hdGNoZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaCYmKGM9ZC5jb21waWxlKGIpLGI9W1wiJG1hdGNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGMuZm9ybWF0KGEpfV0pLE0oZnVuY3Rpb24oYyxkKXtyZXR1cm4gZyhjLGIsYS5leGVjKGQucGF0aCgpLGQuc2VhcmNoKCkpKX0se3ByZWZpeDpJKGEucHJlZml4KT9hLnByZWZpeDpcIlwifSl9LHJlZ2V4OmZ1bmN0aW9uKGEsYil7aWYoYS5nbG9iYWx8fGEuc3RpY2t5KXRocm93IG5ldyBFcnJvcihcIndoZW4oKSBSZWdFeHAgbXVzdCBub3QgYmUgZ2xvYmFsIG9yIHN0aWNreVwiKTtyZXR1cm4gaCYmKGM9YixiPVtcIiRtYXRjaFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGMsYSl9XSksTShmdW5jdGlvbihjLGQpe3JldHVybiBnKGMsYixhLmV4ZWMoZC5wYXRoKCkpKX0se3ByZWZpeDplKGEpfSl9fSxqPXttYXRjaGVyOmQuaXNNYXRjaGVyKGEpLHJlZ2V4OmEgaW5zdGFuY2VvZiBSZWdFeHB9O2Zvcih2YXIgayBpbiBqKWlmKGpba10pcmV0dXJuIHRoaXMucnVsZShpW2tdKGEsYikpO3Rocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKX0sdGhpcy5kZWZlckludGVyY2VwdD1mdW5jdGlvbihhKXthPT09YyYmKGE9ITApLGw9YX0sdGhpcy4kZ2V0PWgsaC4kaW5qZWN0PVtcIiRsb2NhdGlvblwiLFwiJHJvb3RTY29wZVwiLFwiJGluamVjdG9yXCIsXCIkYnJvd3NlclwiXX1mdW5jdGlvbiB1KGEsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gMD09PWEuaW5kZXhPZihcIi5cIil8fDA9PT1hLmluZGV4T2YoXCJeXCIpfWZ1bmN0aW9uIGwoYSxiKXtpZighYSlyZXR1cm4gYzt2YXIgZD1JKGEpLGU9ZD9hOmEubmFtZSxnPWYoZSk7aWYoZyl7aWYoIWIpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICdcIitlK1wiJ1wiKTtiPWwoYik7Zm9yKHZhciBoPWUuc3BsaXQoXCIuXCIpLGk9MCxqPWgubGVuZ3RoLGs9YjtqPmk7aSsrKWlmKFwiXCIhPT1oW2ldfHwwIT09aSl7aWYoXCJeXCIhPT1oW2ldKWJyZWFrO2lmKCFrLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoXCJQYXRoICdcIitlK1wiJyBub3QgdmFsaWQgZm9yIHN0YXRlICdcIitiLm5hbWUrXCInXCIpO2s9ay5wYXJlbnR9ZWxzZSBrPWI7aD1oLnNsaWNlKGkpLmpvaW4oXCIuXCIpLGU9ay5uYW1lKyhrLm5hbWUmJmg/XCIuXCI6XCJcIikraH12YXIgbT15W2VdO3JldHVybiFtfHwhZCYmKGR8fG0hPT1hJiZtLnNlbGYhPT1hKT9jOm19ZnVuY3Rpb24gbShhLGIpe3pbYV18fCh6W2FdPVtdKSx6W2FdLnB1c2goYil9ZnVuY3Rpb24gbyhhKXtmb3IodmFyIGI9elthXXx8W107Yi5sZW5ndGg7KXAoYi5zaGlmdCgpKX1mdW5jdGlvbiBwKGIpe2I9ZChiLHtzZWxmOmIscmVzb2x2ZTpiLnJlc29sdmV8fHt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19KTt2YXIgYz1iLm5hbWU7aWYoIUkoYyl8fGMuaW5kZXhPZihcIkBcIik+PTApdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZVwiKTtpZih5Lmhhc093blByb3BlcnR5KGMpKXRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIitjK1wiJycgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO3ZhciBlPS0xIT09Yy5pbmRleE9mKFwiLlwiKT9jLnN1YnN0cmluZygwLGMubGFzdEluZGV4T2YoXCIuXCIpKTpJKGIucGFyZW50KT9iLnBhcmVudDpKKGIucGFyZW50KSYmSShiLnBhcmVudC5uYW1lKT9iLnBhcmVudC5uYW1lOlwiXCI7aWYoZSYmIXlbZV0pcmV0dXJuIG0oZSxiLnNlbGYpO2Zvcih2YXIgZiBpbiBCKUgoQltmXSkmJihiW2ZdPUJbZl0oYixCLiRkZWxlZ2F0ZXNbZl0pKTtyZXR1cm4geVtjXT1iLCFiW0FdJiZiLnVybCYmYS53aGVuKGIudXJsLFtcIiRtYXRjaFwiLFwiJHN0YXRlUGFyYW1zXCIsZnVuY3Rpb24oYSxjKXt4LiRjdXJyZW50Lm5hdmlnYWJsZT09YiYmaihhLGMpfHx4LnRyYW5zaXRpb25UbyhiLGEse2luaGVyaXQ6ITAsbG9jYXRpb246ITF9KX1dKSxvKGMpLGJ9ZnVuY3Rpb24gcShhKXtyZXR1cm4gYS5pbmRleE9mKFwiKlwiKT4tMX1mdW5jdGlvbiByKGEpe3ZhciBiPWEuc3BsaXQoXCIuXCIpLGM9eC4kY3VycmVudC5uYW1lLnNwbGl0KFwiLlwiKTtpZihcIioqXCI9PT1iWzBdJiYoYz1jLnNsaWNlKGgoYyxiWzFdKSksYy51bnNoaWZ0KFwiKipcIikpLFwiKipcIj09PWJbYi5sZW5ndGgtMV0mJihjLnNwbGljZShoKGMsYltiLmxlbmd0aC0yXSkrMSxOdW1iZXIuTUFYX1ZBTFVFKSxjLnB1c2goXCIqKlwiKSksYi5sZW5ndGghPWMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylcIipcIj09PWJbZF0mJihjW2RdPVwiKlwiKTtyZXR1cm4gYy5qb2luKFwiXCIpPT09Yi5qb2luKFwiXCIpfWZ1bmN0aW9uIHMoYSxiKXtyZXR1cm4gSShhKSYmIUcoYik/QlthXTpIKGIpJiZJKGEpPyhCW2FdJiYhQi4kZGVsZWdhdGVzW2FdJiYoQi4kZGVsZWdhdGVzW2FdPUJbYV0pLEJbYV09Yix0aGlzKTp0aGlzfWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gSihhKT9iPWE6Yi5uYW1lPWEscChiKSx0aGlzfWZ1bmN0aW9uIHUoYSxlLGYsaCxtLG8scCl7ZnVuY3Rpb24gcyhiLGMsZCxmKXt2YXIgZz1hLiRicm9hZGNhc3QoXCIkc3RhdGVOb3RGb3VuZFwiLGIsYyxkKTtpZihnLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHAudXBkYXRlKCksQjtpZighZy5yZXRyeSlyZXR1cm4gbnVsbDtpZihmLiRyZXRyeSlyZXR1cm4gcC51cGRhdGUoKSxDO3ZhciBoPXgudHJhbnNpdGlvbj1lLndoZW4oZy5yZXRyeSk7cmV0dXJuIGgudGhlbihmdW5jdGlvbigpe3JldHVybiBoIT09eC50cmFuc2l0aW9uP3U6KGIub3B0aW9ucy4kcmV0cnk9ITAseC50cmFuc2l0aW9uVG8oYi50byxiLnRvUGFyYW1zLGIub3B0aW9ucykpfSxmdW5jdGlvbigpe3JldHVybiBCfSkscC51cGRhdGUoKSxofWZ1bmN0aW9uIHQoYSxjLGQsZyxpLGope3ZhciBsPWQ/YzprKGEucGFyYW1zLiQka2V5cygpLGMpLG49eyRzdGF0ZVBhcmFtczpsfTtpLnJlc29sdmU9bS5yZXNvbHZlKGEucmVzb2x2ZSxuLGkucmVzb2x2ZSxhKTt2YXIgbz1baS5yZXNvbHZlLnRoZW4oZnVuY3Rpb24oYSl7aS5nbG9iYWxzPWF9KV07cmV0dXJuIGcmJm8ucHVzaChnKSxMKGEudmlld3MsZnVuY3Rpb24oYyxkKXt2YXIgZT1jLnJlc29sdmUmJmMucmVzb2x2ZSE9PWEucmVzb2x2ZT9jLnJlc29sdmU6e307ZS4kdGVtcGxhdGU9W2Z1bmN0aW9uKCl7cmV0dXJuIGYubG9hZChkLHt2aWV3OmMsbG9jYWxzOm4scGFyYW1zOmwsbm90aWZ5Omoubm90aWZ5fSl8fFwiXCJ9XSxvLnB1c2gobS5yZXNvbHZlKGUsbixpLnJlc29sdmUsYSkudGhlbihmdW5jdGlvbihmKXtpZihIKGMuY29udHJvbGxlclByb3ZpZGVyKXx8SyhjLmNvbnRyb2xsZXJQcm92aWRlcikpe3ZhciBnPWIuZXh0ZW5kKHt9LGUsbik7Zi4kJGNvbnRyb2xsZXI9aC5pbnZva2UoYy5jb250cm9sbGVyUHJvdmlkZXIsbnVsbCxnKX1lbHNlIGYuJCRjb250cm9sbGVyPWMuY29udHJvbGxlcjtmLiQkc3RhdGU9YSxmLiQkY29udHJvbGxlckFzPWMuY29udHJvbGxlckFzLGlbZF09Zn0pKX0pLGUuYWxsKG8pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaX0pfXZhciB1PWUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gc3VwZXJzZWRlZFwiKSksej1lLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIHByZXZlbnRlZFwiKSksQj1lLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIGFib3J0ZWRcIikpLEM9ZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBmYWlsZWRcIikpO3JldHVybiB3LmxvY2Fscz17cmVzb2x2ZTpudWxsLGdsb2JhbHM6eyRzdGF0ZVBhcmFtczp7fX19LHg9e3BhcmFtczp7fSxjdXJyZW50Oncuc2VsZiwkY3VycmVudDp3LHRyYW5zaXRpb246bnVsbH0seC5yZWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4geC50cmFuc2l0aW9uVG8oeC5jdXJyZW50LG8se3JlbG9hZDohMCxpbmhlcml0OiExLG5vdGlmeTohMH0pfSx4LmdvPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4geC50cmFuc2l0aW9uVG8oYSxiLE0oe2luaGVyaXQ6ITAscmVsYXRpdmU6eC4kY3VycmVudH0sYykpfSx4LnRyYW5zaXRpb25Ubz1mdW5jdGlvbihiLGMsZil7Yz1jfHx7fSxmPU0oe2xvY2F0aW9uOiEwLGluaGVyaXQ6ITEscmVsYXRpdmU6bnVsbCxub3RpZnk6ITAscmVsb2FkOiExLCRyZXRyeTohMX0sZnx8e30pO3ZhciBnLGo9eC4kY3VycmVudCxtPXgucGFyYW1zLG49ai5wYXRoLHE9bChiLGYucmVsYXRpdmUpO2lmKCFHKHEpKXt2YXIgcj17dG86Yix0b1BhcmFtczpjLG9wdGlvbnM6Zn0seT1zKHIsai5zZWxmLG0sZik7aWYoeSlyZXR1cm4geTtpZihiPXIudG8sYz1yLnRvUGFyYW1zLGY9ci5vcHRpb25zLHE9bChiLGYucmVsYXRpdmUpLCFHKHEpKXtpZighZi5yZWxhdGl2ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHN0YXRlICdcIitiK1wiJ1wiKTt0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIrYitcIicgZnJvbSBzdGF0ZSAnXCIrZi5yZWxhdGl2ZStcIidcIil9fWlmKHFbQV0pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiK2IrXCInXCIpO2lmKGYuaW5oZXJpdCYmKGM9aShvLGN8fHt9LHguJGN1cnJlbnQscSkpLCFxLnBhcmFtcy4kJHZhbGlkYXRlcyhjKSlyZXR1cm4gQztjPXEucGFyYW1zLiQkdmFsdWVzKGMpLGI9cTt2YXIgQj1iLnBhdGgsRD0wLEU9QltEXSxGPXcubG9jYWxzLEg9W107aWYoIWYucmVsb2FkKWZvcig7RSYmRT09PW5bRF0mJkUub3duUGFyYW1zLiQkZXF1YWxzKGMsbSk7KUY9SFtEXT1FLmxvY2FscyxEKyssRT1CW0RdO2lmKHYoYixqLEYsZikpcmV0dXJuIGIuc2VsZi5yZWxvYWRPblNlYXJjaCE9PSExJiZwLnVwZGF0ZSgpLHgudHJhbnNpdGlvbj1udWxsLGUud2hlbih4LmN1cnJlbnQpO2lmKGM9ayhiLnBhcmFtcy4kJGtleXMoKSxjfHx7fSksZi5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsYi5zZWxmLGMsai5zZWxmLG0pLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHAudXBkYXRlKCksejtmb3IodmFyIEk9ZS53aGVuKEYpLEo9RDtKPEIubGVuZ3RoO0orKyxFPUJbSl0pRj1IW0pdPWQoRiksST10KEUsYyxFPT09YixJLEYsZik7dmFyIEs9eC50cmFuc2l0aW9uPUkudGhlbihmdW5jdGlvbigpe3ZhciBkLGUsZztpZih4LnRyYW5zaXRpb24hPT1LKXJldHVybiB1O2ZvcihkPW4ubGVuZ3RoLTE7ZD49RDtkLS0pZz1uW2RdLGcuc2VsZi5vbkV4aXQmJmguaW52b2tlKGcuc2VsZi5vbkV4aXQsZy5zZWxmLGcubG9jYWxzLmdsb2JhbHMpLGcubG9jYWxzPW51bGw7Zm9yKGQ9RDtkPEIubGVuZ3RoO2QrKyllPUJbZF0sZS5sb2NhbHM9SFtkXSxlLnNlbGYub25FbnRlciYmaC5pbnZva2UoZS5zZWxmLm9uRW50ZXIsZS5zZWxmLGUubG9jYWxzLmdsb2JhbHMpO3JldHVybiB4LnRyYW5zaXRpb24hPT1LP3U6KHguJGN1cnJlbnQ9Yix4LmN1cnJlbnQ9Yi5zZWxmLHgucGFyYW1zPWMsTih4LnBhcmFtcyxvKSx4LnRyYW5zaXRpb249bnVsbCxmLmxvY2F0aW9uJiZiLm5hdmlnYWJsZSYmcC5wdXNoKGIubmF2aWdhYmxlLnVybCxiLm5hdmlnYWJsZS5sb2NhbHMuZ2xvYmFscy4kc3RhdGVQYXJhbXMseyQkYXZvaWRSZXN5bmM6ITAscmVwbGFjZTpcInJlcGxhY2VcIj09PWYubG9jYXRpb259KSxmLm5vdGlmeSYmYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLGIuc2VsZixjLGouc2VsZixtKSxwLnVwZGF0ZSghMCkseC5jdXJyZW50KX0sZnVuY3Rpb24oZCl7cmV0dXJuIHgudHJhbnNpdGlvbiE9PUs/dTooeC50cmFuc2l0aW9uPW51bGwsZz1hLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VFcnJvclwiLGIuc2VsZixjLGouc2VsZixtLGQpLGcuZGVmYXVsdFByZXZlbnRlZHx8cC51cGRhdGUoKSxlLnJlamVjdChkKSl9KTtyZXR1cm4gS30seC5pcz1mdW5jdGlvbihhLGIsZCl7ZD1NKHtyZWxhdGl2ZTp4LiRjdXJyZW50fSxkfHx7fSk7dmFyIGU9bChhLGQucmVsYXRpdmUpO3JldHVybiBHKGUpP3guJGN1cnJlbnQhPT1lPyExOmI/aihlLnBhcmFtcy4kJHZhbHVlcyhiKSxvKTohMDpjfSx4LmluY2x1ZGVzPWZ1bmN0aW9uKGEsYixkKXtpZihkPU0oe3JlbGF0aXZlOnguJGN1cnJlbnR9LGR8fHt9KSxJKGEpJiZxKGEpKXtpZighcihhKSlyZXR1cm4hMTthPXguJGN1cnJlbnQubmFtZX12YXIgZT1sKGEsZC5yZWxhdGl2ZSk7cmV0dXJuIEcoZSk/Ryh4LiRjdXJyZW50LmluY2x1ZGVzW2UubmFtZV0pP2I/aihlLnBhcmFtcy4kJHZhbHVlcyhiKSxvLGcoYikpOiEwOiExOmN9LHguaHJlZj1mdW5jdGlvbihhLGIsZCl7ZD1NKHtsb3NzeTohMCxpbmhlcml0OiEwLGFic29sdXRlOiExLHJlbGF0aXZlOnguJGN1cnJlbnR9LGR8fHt9KTt2YXIgZT1sKGEsZC5yZWxhdGl2ZSk7aWYoIUcoZSkpcmV0dXJuIG51bGw7ZC5pbmhlcml0JiYoYj1pKG8sYnx8e30seC4kY3VycmVudCxlKSk7dmFyIGY9ZSYmZC5sb3NzeT9lLm5hdmlnYWJsZTplO3JldHVybiBmJiZmLnVybCE9PWMmJm51bGwhPT1mLnVybD9wLmhyZWYoZi51cmwsayhlLnBhcmFtcy4kJGtleXMoKSxifHx7fSkse2Fic29sdXRlOmQuYWJzb2x1dGV9KTpudWxsfSx4LmdldD1mdW5jdGlvbihhLGIpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuKGcoeSksZnVuY3Rpb24oYSl7cmV0dXJuIHlbYV0uc2VsZn0pO3ZhciBjPWwoYSxifHx4LiRjdXJyZW50KTtyZXR1cm4gYyYmYy5zZWxmP2Muc2VsZjpudWxsfSx4fWZ1bmN0aW9uIHYoYSxiLGMsZCl7cmV0dXJuIGEhPT1ifHwoYyE9PWIubG9jYWxzfHxkLnJlbG9hZCkmJmEuc2VsZi5yZWxvYWRPblNlYXJjaCE9PSExP3ZvaWQgMDohMH12YXIgdyx4LHk9e30sej17fSxBPVwiYWJzdHJhY3RcIixCPXtwYXJlbnQ6ZnVuY3Rpb24oYSl7aWYoRyhhLnBhcmVudCkmJmEucGFyZW50KXJldHVybiBsKGEucGFyZW50KTt2YXIgYj0vXiguKylcXC5bXi5dKyQvLmV4ZWMoYS5uYW1lKTtyZXR1cm4gYj9sKGJbMV0pOnd9LGRhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50JiZhLnBhcmVudC5kYXRhJiYoYS5kYXRhPWEuc2VsZi5kYXRhPU0oe30sYS5wYXJlbnQuZGF0YSxhLmRhdGEpKSxhLmRhdGF9LHVybDpmdW5jdGlvbihhKXt2YXIgYj1hLnVybCxjPXtwYXJhbXM6YS5wYXJhbXN8fHt9fTtpZihJKGIpKXJldHVyblwiXlwiPT1iLmNoYXJBdCgwKT9lLmNvbXBpbGUoYi5zdWJzdHJpbmcoMSksYyk6KGEucGFyZW50Lm5hdmlnYWJsZXx8dykudXJsLmNvbmNhdChiLGMpO2lmKCFifHxlLmlzTWF0Y2hlcihiKSlyZXR1cm4gYjt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVybCAnXCIrYitcIicgaW4gc3RhdGUgJ1wiK2ErXCInXCIpfSxuYXZpZ2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudXJsP2E6YS5wYXJlbnQ/YS5wYXJlbnQubmF2aWdhYmxlOm51bGx9LG93blBhcmFtczpmdW5jdGlvbihhKXt2YXIgYj1hLnVybCYmYS51cmwucGFyYW1zfHxuZXcgTy5QYXJhbVNldDtyZXR1cm4gTChhLnBhcmFtc3x8e30sZnVuY3Rpb24oYSxjKXtiW2NdfHwoYltjXT1uZXcgTy5QYXJhbShjLG51bGwsYSxcImNvbmZpZ1wiKSl9KSxifSxwYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50JiZhLnBhcmVudC5wYXJhbXM/TShhLnBhcmVudC5wYXJhbXMuJCRuZXcoKSxhLm93blBhcmFtcyk6bmV3IE8uUGFyYW1TZXR9LHZpZXdzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBMKEcoYS52aWV3cyk/YS52aWV3czp7XCJcIjphfSxmdW5jdGlvbihjLGQpe2QuaW5kZXhPZihcIkBcIik8MCYmKGQrPVwiQFwiK2EucGFyZW50Lm5hbWUpLGJbZF09Y30pLGJ9LHBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50P2EucGFyZW50LnBhdGguY29uY2F0KGEpOltdfSxpbmNsdWRlczpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudD9NKHt9LGEucGFyZW50LmluY2x1ZGVzKTp7fTtyZXR1cm4gYlthLm5hbWVdPSEwLGJ9LCRkZWxlZ2F0ZXM6e319O3c9cCh7bmFtZTpcIlwiLHVybDpcIl5cIix2aWV3czpudWxsLFwiYWJzdHJhY3RcIjohMH0pLHcubmF2aWdhYmxlPW51bGwsdGhpcy5kZWNvcmF0b3I9cyx0aGlzLnN0YXRlPXQsdGhpcy4kZ2V0PXUsdS4kaW5qZWN0PVtcIiRyb290U2NvcGVcIixcIiRxXCIsXCIkdmlld1wiLFwiJGluamVjdG9yXCIsXCIkcmVzb2x2ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkdXJsUm91dGVyXCIsXCIkbG9jYXRpb25cIixcIiR1cmxNYXRjaGVyRmFjdG9yeVwiXX1mdW5jdGlvbiB2KCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybntsb2FkOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj17dGVtcGxhdGU6bnVsbCxjb250cm9sbGVyOm51bGwsdmlldzpudWxsLGxvY2FsczpudWxsLG5vdGlmeTohMCxhc3luYzohMCxwYXJhbXM6e319O3JldHVybiBkPU0oZixkKSxkLnZpZXcmJihlPWIuZnJvbUNvbmZpZyhkLnZpZXcsZC5wYXJhbXMsZC5sb2NhbHMpKSxlJiZkLm5vdGlmeSYmYS4kYnJvYWRjYXN0KFwiJHZpZXdDb250ZW50TG9hZGluZ1wiLGQpLGV9fX10aGlzLiRnZXQ9YSxhLiRpbmplY3Q9W1wiJHJvb3RTY29wZVwiLFwiJHRlbXBsYXRlRmFjdG9yeVwiXX1mdW5jdGlvbiB3KCl7dmFyIGE9ITE7dGhpcy51c2VBbmNob3JTY3JvbGw9ZnVuY3Rpb24oKXthPSEwfSx0aGlzLiRnZXQ9W1wiJGFuY2hvclNjcm9sbFwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihiLGMpe3JldHVybiBhP2I6ZnVuY3Rpb24oYSl7YyhmdW5jdGlvbigpe2FbMF0uc2Nyb2xsSW50b1ZpZXcoKX0sMCwhMSl9fV19ZnVuY3Rpb24geChhLGMsZCxlKXtmdW5jdGlvbiBmKCl7cmV0dXJuIGMuaGFzP2Z1bmN0aW9uKGEpe3JldHVybiBjLmhhcyhhKT9jLmdldChhKTpudWxsfTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGMuZ2V0KGEpfWNhdGNoKGIpe3JldHVybiBudWxsfX19ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJue2VudGVyOmZ1bmN0aW9uKGEsYixjKXtiLmFmdGVyKGEpLGMoKX0sbGVhdmU6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZSgpLGIoKX19fTtpZihqKXJldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ai5lbnRlcihhLG51bGwsYixjKTtkJiZkLnRoZW4mJmQudGhlbihjKX0sbGVhdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1qLmxlYXZlKGEsYik7YyYmYy50aGVuJiZjLnRoZW4oYil9fTtpZihpKXt2YXIgZD1pJiZpKGIsYSk7cmV0dXJue2VudGVyOmZ1bmN0aW9uKGEsYixjKXtkLmVudGVyKGEsbnVsbCxiKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7ZC5sZWF2ZShhKSxiKCl9fX1yZXR1cm4gYygpfXZhciBoPWYoKSxpPWgoXCIkYW5pbWF0b3JcIiksaj1oKFwiJGFuaW1hdGVcIiksaz17cmVzdHJpY3Q6XCJFQ0FcIix0ZXJtaW5hbDohMCxwcmlvcml0eTo0MDAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixjb21waWxlOmZ1bmN0aW9uKGMsZixoKXtyZXR1cm4gZnVuY3Rpb24oYyxmLGkpe2Z1bmN0aW9uIGooKXtsJiYobC5yZW1vdmUoKSxsPW51bGwpLG4mJihuLiRkZXN0cm95KCksbj1udWxsKSxtJiYoci5sZWF2ZShtLGZ1bmN0aW9uKCl7bD1udWxsfSksbD1tLG09bnVsbCl9ZnVuY3Rpb24gayhnKXt2YXIgayxsPXooYyxpLGYsZSkscz1sJiZhLiRjdXJyZW50JiZhLiRjdXJyZW50LmxvY2Fsc1tsXTtpZihnfHxzIT09byl7az1jLiRuZXcoKSxvPWEuJGN1cnJlbnQubG9jYWxzW2xdO3ZhciB0PWgoayxmdW5jdGlvbihhKXtyLmVudGVyKGEsZixmdW5jdGlvbigpe24mJm4uJGVtaXQoXCIkdmlld0NvbnRlbnRBbmltYXRpb25FbmRlZFwiKSwoYi5pc0RlZmluZWQocSkmJiFxfHxjLiRldmFsKHEpKSYmZChhKX0pLGooKX0pO209dCxuPWssbi4kZW1pdChcIiR2aWV3Q29udGVudExvYWRlZFwiKSxuLiRldmFsKHApfX12YXIgbCxtLG4sbyxwPWkub25sb2FkfHxcIlwiLHE9aS5hdXRvc2Nyb2xsLHI9ZyhpLGMpO2MuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLGZ1bmN0aW9uKCl7ayghMSl9KSxjLiRvbihcIiR2aWV3Q29udGVudExvYWRpbmdcIixmdW5jdGlvbigpe2soITEpfSksayghMCl9fX07cmV0dXJuIGt9ZnVuY3Rpb24geShhLGIsYyxkKXtyZXR1cm57cmVzdHJpY3Q6XCJFQ0FcIixwcmlvcml0eTotNDAwLGNvbXBpbGU6ZnVuY3Rpb24oZSl7dmFyIGY9ZS5odG1sKCk7cmV0dXJuIGZ1bmN0aW9uKGUsZyxoKXt2YXIgaT1jLiRjdXJyZW50LGo9eihlLGgsZyxkKSxrPWkmJmkubG9jYWxzW2pdO2lmKGspe2cuZGF0YShcIiR1aVZpZXdcIix7bmFtZTpqLHN0YXRlOmsuJCRzdGF0ZX0pLGcuaHRtbChrLiR0ZW1wbGF0ZT9rLiR0ZW1wbGF0ZTpmKTt2YXIgbD1hKGcuY29udGVudHMoKSk7aWYoay4kJGNvbnRyb2xsZXIpe2suJHNjb3BlPWU7dmFyIG09YihrLiQkY29udHJvbGxlcixrKTtrLiQkY29udHJvbGxlckFzJiYoZVtrLiQkY29udHJvbGxlckFzXT1tKSxnLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLG0pLGcuY2hpbGRyZW4oKS5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIixtKX1sKGUpfX19fX1mdW5jdGlvbiB6KGEsYixjLGQpe3ZhciBlPWQoYi51aVZpZXd8fGIubmFtZXx8XCJcIikoYSksZj1jLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpO3JldHVybiBlLmluZGV4T2YoXCJAXCIpPj0wP2U6ZStcIkBcIisoZj9mLnN0YXRlLm5hbWU6XCJcIil9ZnVuY3Rpb24gQShhLGIpe3ZhciBjLGQ9YS5tYXRjaCgvXlxccyooe1tefV0qfSlcXHMqJC8pO2lmKGQmJihhPWIrXCIoXCIrZFsxXStcIilcIiksYz1hLnJlcGxhY2UoL1xcbi9nLFwiIFwiKS5tYXRjaCgvXihbXihdKz8pXFxzKihcXCgoLiopXFwpKT8kLyksIWN8fDQhPT1jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIrYStcIidcIik7cmV0dXJue3N0YXRlOmNbMV0scGFyYW1FeHByOmNbM118fG51bGx9fWZ1bmN0aW9uIEIoYSl7dmFyIGI9YS5wYXJlbnQoKS5pbmhlcml0ZWREYXRhKFwiJHVpVmlld1wiKTtyZXR1cm4gYiYmYi5zdGF0ZSYmYi5zdGF0ZS5uYW1lP2Iuc3RhdGU6dm9pZCAwfWZ1bmN0aW9uIEMoYSxjKXt2YXIgZD1bXCJsb2NhdGlvblwiLFwiaW5oZXJpdFwiLFwicmVsb2FkXCJdO3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24oZSxmLGcsaCl7dmFyIGk9QShnLnVpU3JlZixhLmN1cnJlbnQubmFtZSksaj1udWxsLGs9QihmKXx8YS4kY3VycmVudCxsPW51bGwsbT1cIkFcIj09PWYucHJvcChcInRhZ05hbWVcIiksbj1cIkZPUk1cIj09PWZbMF0ubm9kZU5hbWUsbz1uP1wiYWN0aW9uXCI6XCJocmVmXCIscD0hMCxxPXtyZWxhdGl2ZTprLGluaGVyaXQ6ITB9LHI9ZS4kZXZhbChnLnVpU3JlZk9wdHMpfHx7fTtiLmZvckVhY2goZCxmdW5jdGlvbihhKXthIGluIHImJihxW2FdPXJbYV0pfSk7dmFyIHM9ZnVuY3Rpb24oYyl7aWYoYyYmKGo9Yi5jb3B5KGMpKSxwKXtsPWEuaHJlZihpLnN0YXRlLGoscSk7dmFyIGQ9aFsxXXx8aFswXTtyZXR1cm4gZCYmZC4kJHNldFN0YXRlSW5mbyhpLnN0YXRlLGopLG51bGw9PT1sPyhwPSExLCExKTp2b2lkIGcuJHNldChvLGwpfX07aS5wYXJhbUV4cHImJihlLiR3YXRjaChpLnBhcmFtRXhwcixmdW5jdGlvbihhKXthIT09aiYmcyhhKX0sITApLGo9Yi5jb3B5KGUuJGV2YWwoaS5wYXJhbUV4cHIpKSkscygpLG58fGYuYmluZChcImNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGQ9Yi53aGljaHx8Yi5idXR0b247aWYoIShkPjF8fGIuY3RybEtleXx8Yi5tZXRhS2V5fHxiLnNoaWZ0S2V5fHxmLmF0dHIoXCJ0YXJnZXRcIikpKXt2YXIgZT1jKGZ1bmN0aW9uKCl7YS5nbyhpLnN0YXRlLGoscSl9KTtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGc9bSYmIWw/MTowO2IucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtnLS08PTAmJmMuY2FuY2VsKGUpfX19KX19fWZ1bmN0aW9uIEQoYSxiLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGVsZW1lbnRcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGIsZCxlKXtmdW5jdGlvbiBmKCl7ZygpP2QuYWRkQ2xhc3Moaik6ZC5yZW1vdmVDbGFzcyhqKX1mdW5jdGlvbiBnKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUudWlTcmVmQWN0aXZlRXE/aCYmYS5pcyhoLm5hbWUsaSk6aCYmYS5pbmNsdWRlcyhoLm5hbWUsaSl9dmFyIGgsaSxqO2o9YyhlLnVpU3JlZkFjdGl2ZUVxfHxlLnVpU3JlZkFjdGl2ZXx8XCJcIiwhMSkoYiksdGhpcy4kJHNldFN0YXRlSW5mbz1mdW5jdGlvbihiLGMpe2g9YS5nZXQoYixCKGQpKSxpPWMsZigpfSxiLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixmKX1dfX1mdW5jdGlvbiBFKGEpe3ZhciBiPWZ1bmN0aW9uKGIpe3JldHVybiBhLmlzKGIpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn1mdW5jdGlvbiBGKGEpe3ZhciBiPWZ1bmN0aW9uKGIpe3JldHVybiBhLmluY2x1ZGVzKGIpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn12YXIgRz1iLmlzRGVmaW5lZCxIPWIuaXNGdW5jdGlvbixJPWIuaXNTdHJpbmcsSj1iLmlzT2JqZWN0LEs9Yi5pc0FycmF5LEw9Yi5mb3JFYWNoLE09Yi5leHRlbmQsTj1iLmNvcHk7Yi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiLFtcIm5nXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIudXRpbFwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIixbXCJ1aS5yb3V0ZXIucm91dGVyXCIsXCJ1aS5yb3V0ZXIudXRpbFwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLGIubW9kdWxlKFwidWkucm91dGVyLmNvbXBhdFwiLFtcInVpLnJvdXRlclwiXSksby4kaW5qZWN0PVtcIiRxXCIsXCIkaW5qZWN0b3JcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5zZXJ2aWNlKFwiJHJlc29sdmVcIixvKSxwLiRpbmplY3Q9W1wiJGh0dHBcIixcIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkaW5qZWN0b3JcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5zZXJ2aWNlKFwiJHRlbXBsYXRlRmFjdG9yeVwiLHApO3ZhciBPO3EucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihhLGIpe3ZhciBjPXtjYXNlSW5zZW5zaXRpdmU6Ty5jYXNlSW5zZW5zaXRpdmUoKSxzdHJpY3Q6Ty5zdHJpY3RNb2RlKCksc3F1YXNoOk8uZGVmYXVsdFNxdWFzaFBvbGljeSgpfTtyZXR1cm4gbmV3IHEodGhpcy5zb3VyY2VQYXRoK2ErdGhpcy5zb3VyY2VTZWFyY2gsTShjLGIpLHRoaXMpfSxxLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZX0scS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcXFwtLyxcIi1cIil9dmFyIGQ9YihhKS5zcGxpdCgvLSg/IVxcXFwpLyksZT1uKGQsYik7cmV0dXJuIG4oZSxjKS5yZXZlcnNlKCl9dmFyIGQ9dGhpcy5yZWdleHAuZXhlYyhhKTtpZighZClyZXR1cm4gbnVsbDtiPWJ8fHt9O3ZhciBlLGYsZyxoPXRoaXMucGFyYW1ldGVycygpLGk9aC5sZW5ndGgsaj10aGlzLnNlZ21lbnRzLmxlbmd0aC0xLGs9e307aWYoaiE9PWQubGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKFwiVW5iYWxhbmNlZCBjYXB0dXJlIGdyb3VwIGluIHJvdXRlICdcIit0aGlzLnNvdXJjZStcIidcIik7Zm9yKGU9MDtqPmU7ZSsrKXtnPWhbZV07dmFyIGw9dGhpcy5wYXJhbXNbZ10sbT1kW2UrMV07Zm9yKGY9MDtmPGwucmVwbGFjZTtmKyspbC5yZXBsYWNlW2ZdLmZyb209PT1tJiYobT1sLnJlcGxhY2VbZl0udG8pO20mJmwuYXJyYXk9PT0hMCYmKG09YyhtKSksa1tnXT1sLnZhbHVlKG0pfWZvcig7aT5lO2UrKylnPWhbZV0sa1tnXT10aGlzLnBhcmFtc1tnXS52YWx1ZShiW2ddKTtyZXR1cm4ga30scS5wcm90b3R5cGUucGFyYW1ldGVycz1mdW5jdGlvbihhKXtyZXR1cm4gRyhhKT90aGlzLnBhcmFtc1thXXx8bnVsbDp0aGlzLiQkcGFyYW1OYW1lc30scS5wcm90b3R5cGUudmFsaWRhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcmFtcy4kJHZhbGlkYXRlcyhhKX0scS5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8tL2csZnVuY3Rpb24oYSl7cmV0dXJuXCIlNUMlXCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSl9YT1hfHx7fTt2YXIgYz10aGlzLnNlZ21lbnRzLGQ9dGhpcy5wYXJhbWV0ZXJzKCksZT10aGlzLnBhcmFtcztpZighdGhpcy52YWxpZGF0ZXMoYSkpcmV0dXJuIG51bGw7dmFyIGYsZz0hMSxoPWMubGVuZ3RoLTEsaT1kLmxlbmd0aCxqPWNbMF07Zm9yKGY9MDtpPmY7ZisrKXt2YXIgaz1oPmYsbD1kW2ZdLG09ZVtsXSxvPW0udmFsdWUoYVtsXSkscD1tLmlzT3B0aW9uYWwmJm0udHlwZS5lcXVhbHMobS52YWx1ZSgpLG8pLHE9cD9tLnNxdWFzaDohMSxyPW0udHlwZS5lbmNvZGUobyk7aWYoayl7dmFyIHM9Y1tmKzFdO2lmKHE9PT0hMSludWxsIT1yJiYoais9SyhyKT9uKHIsYikuam9pbihcIi1cIik6ZW5jb2RlVVJJQ29tcG9uZW50KHIpKSxqKz1zO2Vsc2UgaWYocT09PSEwKXt2YXIgdD1qLm1hdGNoKC9cXC8kLyk/L1xcLz8oLiopLzovKC4qKS87ais9cy5tYXRjaCh0KVsxXX1lbHNlIEkocSkmJihqKz1xK3MpfWVsc2V7aWYobnVsbD09cnx8cCYmcSE9PSExKWNvbnRpbnVlO0socil8fChyPVtyXSkscj1uKHIsZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiJlwiK2wrXCI9XCIpLGorPShnP1wiJlwiOlwiP1wiKSsobCtcIj1cIityKSxnPSEwfX1yZXR1cm4gan0sci5wcm90b3R5cGUuaXM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sci5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxyLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHIucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihhLGIpe3JldHVybiBhPT1ifSxyLnByb3RvdHlwZS4kc3ViUGF0dGVybj1mdW5jdGlvbigpe3ZhciBhPXRoaXMucGF0dGVybi50b1N0cmluZygpO3JldHVybiBhLnN1YnN0cigxLGEubGVuZ3RoLTIpfSxyLnByb3RvdHlwZS5wYXR0ZXJuPS8uKi8sci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIntUeXBlOlwiK3RoaXMubmFtZStcIn1cIn0sci5wcm90b3R5cGUuJGFzQXJyYXk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsYil7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gSyhhKT9hOkcoYSk/W2FdOltdfWZ1bmN0aW9uIGYoYSl7c3dpdGNoKGEubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGM7Y2FzZSAxOnJldHVyblwiYXV0b1wiPT09Yj9hWzBdOmE7ZGVmYXVsdDpyZXR1cm4gYX19ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2M9ZShjKTt2YXIgZD1uKGMsYSk7cmV0dXJuIGI9PT0hMD8wPT09bShkLGcpLmxlbmd0aDpmKGQpfX1mdW5jdGlvbiBpKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPWUoYiksZj1lKGMpO2lmKGQubGVuZ3RoIT09Zi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspaWYoIWEoZFtnXSxmW2ddKSlyZXR1cm4hMTtyZXR1cm4hMH19dGhpcy5lbmNvZGU9aChkKGEsXCJlbmNvZGVcIikpLHRoaXMuZGVjb2RlPWgoZChhLFwiZGVjb2RlXCIpKSx0aGlzLmlzPWgoZChhLFwiaXNcIiksITApLHRoaXMuZXF1YWxzPWkoZChhLFwiZXF1YWxzXCIpKSx0aGlzLnBhdHRlcm49YS5wYXR0ZXJuLHRoaXMuJGFycmF5TW9kZT1ifWlmKCFhKXJldHVybiB0aGlzO2lmKFwiYXV0b1wiPT09YSYmIWIpdGhyb3cgbmV3IEVycm9yKFwiJ2F1dG8nIGFycmF5IG1vZGUgaXMgZm9yIHF1ZXJ5IHBhcmFtZXRlcnMgb25seVwiKTtyZXR1cm4gbmV3IGQodGhpcyxhKX0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5wcm92aWRlcihcIiR1cmxNYXRjaGVyRmFjdG9yeVwiLHMpLGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikucnVuKFtcIiR1cmxNYXRjaGVyRmFjdG9yeVwiLGZ1bmN0aW9uKCl7fV0pLHQuJGluamVjdD1bXCIkbG9jYXRpb25Qcm92aWRlclwiLFwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIucm91dGVyXCIpLnByb3ZpZGVyKFwiJHVybFJvdXRlclwiLHQpLHUuJGluamVjdD1bXCIkdXJsUm91dGVyUHJvdmlkZXJcIixcIiR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLnZhbHVlKFwiJHN0YXRlUGFyYW1zXCIse30pLnByb3ZpZGVyKFwiJHN0YXRlXCIsdSksdi4kaW5qZWN0PVtdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLnByb3ZpZGVyKFwiJHZpZXdcIix2KSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5wcm92aWRlcihcIiR1aVZpZXdTY3JvbGxcIix3KSx4LiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkaW5qZWN0b3JcIixcIiR1aVZpZXdTY3JvbGxcIixcIiRpbnRlcnBvbGF0ZVwiXSx5LiRpbmplY3Q9W1wiJGNvbXBpbGVcIixcIiRjb250cm9sbGVyXCIsXCIkc3RhdGVcIixcIiRpbnRlcnBvbGF0ZVwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIix4KSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIix5KSxDLiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkdGltZW91dFwiXSxELiRpbmplY3Q9W1wiJHN0YXRlXCIsXCIkc3RhdGVQYXJhbXNcIixcIiRpbnRlcnBvbGF0ZVwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVNyZWZcIixDKS5kaXJlY3RpdmUoXCJ1aVNyZWZBY3RpdmVcIixEKS5kaXJlY3RpdmUoXCJ1aVNyZWZBY3RpdmVFcVwiLEQpLEUuJGluamVjdD1bXCIkc3RhdGVcIl0sRi4kaW5qZWN0PVtcIiRzdGF0ZVwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5maWx0ZXIoXCJpc1N0YXRlXCIsRSkuZmlsdGVyKFwiaW5jbHVkZWRCeVN0YXRlXCIsRil9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7Il0sImZpbGUiOiJzY3JpcHRzL3ZlbmRvcnMvYW5ndWxhci11aS1yb3V0ZXIvcmVsZWFzZS9hbmd1bGFyLXVpLXJvdXRlci5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==